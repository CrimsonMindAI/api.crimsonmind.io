# Image Description API

## Features

- Describe images using OpenAI's API

## Requirements

- Node.js
- Yarn or npm
- OpenAI API key

## Installation

1. Clone the repository:
    ```sh
    git clone git@github.com:CrimsonMindAI/api.crimsonmind.io-image.git
    cd api.crimsonmind.io-image
    ```

2. Install dependencies:
    ```sh
    yarn install
    # or
    npm install
    ```

3. Create a `.env` file and add your OpenAI API key:
    ```plaintext
    OPENAI_API_KEY=your_openai_api_key
    ```

## Usage

1. Start the server:
    ```sh
    yarn start
    # or
    npm start
    ```

2. The server will be running at `http://localhost:3000`.

## API Endpoints

- `POST /describe` - Upload an image to get a description. Requires a `file` field in the form-data.
## API Authentication

To authenticate your requests, you need to include an API key in the request headers. The API key should be included as `x-api-key`.

### Request Headers

| Header      | Value            |
|-------------|------------------|
| x-api-key   | your_api_key     |

### Example Request

Here is an example of how to include the API key in your request headers using curl:

```sh
  curl -X GET "http://localhost:3000/" -H "x-api-key: your_api_key"
```

### CORS Configuration
This API supports Cross-Origin Resource Sharing (CORS). You can enable and configure CORS by setting the following environment variables in your `.env` file:
- `ENABLE_CORS:` Set to `true` to enable CORS.
- `CORS_ORIGIN:` A comma-separated list of allowed origins.

Example `.env` configuration:
```plaintext
ENABLE_CORS=true
CORS_ORIGINS=http://example.com,http://anotherdomain.com
```

### Routes

- **POST /describe**: Upload an image to get a description.
   - **Description**: This endpoint allows you to upload an image and receive a description generated by the OpenAI API.
   - **Headers**:
      - `x-api-key`: your_api_key
   - **Body**:
      - `multipart/form-data` with a file field named `file`

    